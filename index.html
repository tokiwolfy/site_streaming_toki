<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Streamer OS - Live</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="bg" class="bg-gif"></div>
    <div id="news-bar" class="news-ticker">--- CHARGEMENT DES NEWS ---</div>
    
    <div class="crt-overlay"></div>

    <div class="main-layout">
        <aside class="side-panel">
            <div class="panel-header">SCHEDULE_LOG</div>
            <div id="schedule-list">
                </div>
        </aside>

        <main class="terminal">
            <header>
                <img id="pfp" src="https://api.dicebear.com/7.x/pixel-art/svg?seed=Lucky" class="avatar-pixel">
                <h1 id="title">> NOM_DU_STREAMER</h1>
                <div id="status-live" class="status-badge offline">OFFLINE</div>
            </header>
            <div style="margin: 15px 0;"><p id="bio-text"></p></div>
            <nav>
                <a id="twitch-link" href="#" class="btn">ACCÉDER AU LIVE</a>
                <a id="discord-link" href="#" class="btn">REJOINDRE LE DISCORD</a>
                <a href="admin.html" class="btn-admin">> CONFIGURATION_SYSTÈME</a>
            </nav>
        </main>

        <aside class="side-panel">
            <div class="panel-header">CURRENT_GAMES</div>
            <div id="games-list"></div>
        </aside>
    </div>

    <script>
        async function syncData() {
            const get = (key) => localStorage.getItem('user_' + key);
            
            // News
            const news = get('news');
            const bar = document.getElementById('news-bar');
            if(news) { bar.innerText = " +++ " + news.toUpperCase() + " +++ "; bar.style.display = "block"; }
            else { bar.style.display = "none"; }

            // Fond & Identité
            if(get('bg')) document.getElementById('bg').style.backgroundImage = `url('${get('bg')}')`;
            document.getElementById('title').innerText = "> " + (get('u') || "STREAMER").toUpperCase();
            document.getElementById('bio-text').innerText = get('bio') || "Bienvenue !";

            // Planning Dynamique
            const days = ["LUN", "MAR", "MER", "JEU", "VEN", "SAM", "DIM"];
            const schedList = document.getElementById('schedule-list');
            schedList.innerHTML = days.map((d, i) => {
                const h = get('p' + (i+1)) || "--";
                return `<div class="item"><strong>${d} :</strong> ${h}</div>`;
            }).join('');

            // Jeux
            const games = get('games');
            if(games) document.getElementById('games-list').innerHTML = games.split(',').map(g => `<div class="item">${g.trim()}</div>`).join('');

            // ... (Ici ton code Fetch Twitch pour PFP et Live Status)
        }
        syncData();
    </script>
</body>
</html>
